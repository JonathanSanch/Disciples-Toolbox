/// <reference types="bun-types" />
import type { ServerWebSocket, ServerWebSocketSendStatus, WebSocketHandler } from 'bun';
import type { Elysia } from '..';
import type { ElysiaWSContext } from './types';
export declare class ElysiaWS<WS extends ElysiaWSContext> {
    raw: WS;
    data: WS['data'];
    isSubscribed: WS['isSubscribed'];
    constructor(ws: WS);
    publish(topic: string, data?: WS['data']['schema']['response'], compress?: boolean): this;
    publishToSelf(topic: string, data?: WS['data']['schema']['response'], compress?: boolean): this;
    send(data: WS['data']['schema']['response']): this;
    subscribe(room: string): this;
    unsubscribe(room: string): this;
    cork(callback: (ws: ServerWebSocket<any>) => any): this;
    close(): this;
}
export declare const ws: (config?: Omit<WebSocketHandler, 'open' | 'message' | 'close' | 'drain'>) => (app: Elysia) => Elysia<"", {
    store: {};
    error: {};
    request: {
        publish: WSPublish;
    };
    schema: {};
    meta: {
        schema: {};
        defs: {};
        exposed: {};
    };
}>;
type WSPublish = (topic: string, data: string | ArrayBufferView | ArrayBuffer | SharedArrayBuffer, compress?: boolean) => ServerWebSocketSendStatus;
export type { WSTypedSchema, WebSocketHeaderHandler, WebSocketSchemaToRoute, ElysiaWSContext, ElysiaWSOptions, TransformMessageHandler } from './types';
